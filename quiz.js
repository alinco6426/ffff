let quizData = {
  "Biochemistry II": {
    "Metabolism of Xenobiotics": {
      "mcqs": [
    {
      "id": "tox-mcq-1",
      "question": "Which historical figure is credited with the principle 'The dose makes the poison'?",
      "options": ["Dioscorides", "Paracelsus", "Orfila", "Maimmonides"],
      "correctIndex": 1,
      "explanation": "Paracelsus (1493-1541) established this fundamental toxicology principle (Toxicology Chapter 1, Page 7)."
    },
    {
      "id": "tox-mcq-2",
      "question": "What does LD50 represent in toxicology?",
      "options": [
        "Legal dose for 50% of the population",
        "Lethal dose for 50% of test subjects",
        "Long-term exposure threshold",
        "Lowest detectable concentration"
      ],
      "correctIndex": 1,
      "explanation": "LD50 = Median Lethal Dose (Toxicology Chapter 1, Page 11)."
    },
    {
      "id": "tox-mcq-3",
      "question": "Which of these is NOT a primary route of toxicant exposure?",
      "options": ["Inhalation", "Dermal", "Quantum", "Oral"],
      "correctIndex": 2,
      "explanation": "Quantum is a physics concept, not an exposure route (Toxicology Chapter 1, Page 36)."
    },
    {
      "id": "tox-mcq-4",
      "question": "What is the primary purpose of biotransformation?",
      "options": [
        "Increase toxicity",
        "Convert lipophilic compounds to hydrophilic forms",
        "Enhance pharmacological effects",
        "Promote storage in adipose tissue"
      ],
      "correctIndex": 1,
      "explanation": "Facilitates excretion (Metabolism of Xenobiotics PDF, Page 3)."
    },
    {
      "id": "tox-mcq-5",
      "question": "Which organ is most responsible for xenobiotic metabolism?",
      "options": ["Kidney", "Liver", "Lung", "Brain"],
      "correctIndex": 1,
      "explanation": "Liver hepatocytes contain highest enzyme concentrations (05_Xenobiotics metab.pdf, Page 5)."
    },
    {
      "id": "tox-mcq-6",
      "question": "What type of toxicology focuses on poison treatment?",
      "options": ["Forensic", "Clinical", "Regulatory", "Environmental"],
      "correctIndex": 1,
      "explanation": "Clinical toxicology manages poisoning cases (Toxicology Chapter 1, Page 19)."
    },
    {
      "id": "tox-mcq-7",
      "question": "Which term describes increased toxicity from combined chemicals?",
      "options": ["Antagonism", "Additivity", "Synergism", "Potentiation"],
      "correctIndex": 2,
      "explanation": "Synergism = 2+2=20 effect (Toxicology Chapter 1, Page 28)."
    },
    {
      "id": "tox-mcq-8",
      "question": "What is the universal sulfate donor in Phase II reactions?",
      "options": ["SAM", "PAPS", "UDPGA", "Acetyl-CoA"],
      "correctIndex": 1,
      "explanation": "PAPS = 3'-phosphoadenosine-5'-phosphosulfate (05_Xenobiotics metab.pdf, Page 15)."
    },
    {
      "id": "tox-mcq-9",
      "question": "Which enzyme system dominates Phase I metabolism?",
      "options": [
        "Glutathione S-transferases",
        "Cytochrome P450",
        "UDP-glucuronosyltransferases",
        "Sulfotransferases"
      ],
      "correctIndex": 1,
      "explanation": "CYP450 catalyzes most oxidations (NOTE ON biotransformation.pdf, Page 3)."
    },
    {
      "id": "tox-mcq-10",
      "question": "What does 'xenobiotic' mean?",
      "options": [
        "Natural plant toxin",
        "Foreign chemical to an organism",
        "Radioactive material",
        "Heavy metal"
      ],
      "correctIndex": 1,
      "explanation": "Greek 'xenos' = stranger (Metabolism of Xenobiotics PDF, Page 2)."
    },
    {
      "id": "tox-mcq-11",
      "question": "Which cytochrome P450 isoform is most abundant in humans?",
      "options": ["CYP1A2", "CYP2D6", "CYP3A4", "CYP2E1"],
      "correctIndex": 2,
      "explanation": "CYP3A4 constitutes 25-70% of hepatic P450 (05_Xenobiotics metab.pdf, Page 12)."
    },
    {
      "id": "tox-mcq-12",
      "question": "What is the toxic metabolite of methanol?",
      "options": ["Formaldehyde", "Formic acid", "Acetic acid", "Methanol"],
      "correctIndex": 1,
      "explanation": "Causes metabolic acidosis (Metabolism of Xenobiotics PDF, Page 25)."
    },
    {
      "id": "tox-mcq-13",
      "question": "Which compound is used to test liver detoxification function?",
      "options": ["Hippuric acid", "Urea", "Creatinine", "Bilirubin"],
      "correctIndex": 0,
      "explanation": "Formed from benzoic acid conjugation (Metabolism of Xenobiotics PDF, Page 27)."
    },
    {
      "id": "tox-mcq-14",
      "question": "What is the primary excretion route for conjugated xenobiotics?",
      "options": ["Bile", "Urine", "Sweat", "Exhaled air"],
      "correctIndex": 1,
      "explanation": "Water-soluble conjugates excreted in urine (NOTE ON biotransformation.pdf, Page 1)."
    },
    {
      "id": "tox-mcq-15",
      "question": "Which of these is a Phase II reaction?",
      "options": ["Hydroxylation", "Reduction", "Glucuronidation", "Hydrolysis"],
      "correctIndex": 2,
      "explanation": "Conjugation with UDP-glucuronate (05_Xenobiotics metab.pdf, Page 13)."
    },
    {
      "id": "tox-mcq-16",
      "question": "What does MFO stand for in toxicology?",
      "options": [
        "Microsomal Functional Oxidase",
        "Mixed Function Oxidase",
        "Mitochondrial Ferric Oxidase",
        "Multi-Functional Oxygenase"
      ],
      "correctIndex": 1,
      "explanation": "Cytochrome P450 system (NOTE ON biotransformation.pdf, Page 3)."
    },
    {
      "id": "tox-mcq-17",
      "question": "Which factor does NOT affect xenobiotic toxicity?",
      "options": ["pH", "Color", "Dose", "Genetic polymorphisms"],
      "correctIndex": 1,
      "explanation": "Color is irrelevant unless photosensitive (Toxicology Chapter 1, Page 44)."
    },
    {
      "id": "tox-mcq-18",
      "question": "What is the antidote for methanol poisoning?",
      "options": ["Ethanol", "BAL", "Atropine", "Naloxone"],
      "correctIndex": 0,
      "explanation": "Competes for alcohol dehydrogenase (Metabolism of Xenobiotics PDF, Page 25)."
    },
    {
      "id": "tox-mcq-19",
      "question": "Which enzyme converts acetaldehyde to acetate?",
      "options": [
        "Alcohol dehydrogenase",
        "Aldehyde dehydrogenase",
        "Cytochrome P450",
        "Catalase"
      ],
      "correctIndex": 1,
      "explanation": "ALDH prevents acetaldehyde accumulation (05_Xenobiotics metab.pdf, Page 26)."
    },
    {
      "id": "tox-mcq-20",
      "question": "What characterizes the anticholinergic toxidrome?",
      "options": [
        "Pinpoint pupils",
        "Dry as a bone",
        "Bronchorrhea",
        "Hypersalivation"
      ],
      "correctIndex": 1,
      "explanation": "Mnemonic: 'Hot as a hare, dry as a bone' (Toxicology Chapter 1, Page 62)."
    },
    {
      "id": "tox-mcq-21",
      "question": "Which heavy metal antidote contains sulfhydryl groups?",
      "options": ["EDTA", "BAL", "Deferoxamine", "Penicillamine"],
      "correctIndex": 1,
      "explanation": "British Anti-Lewisite chelates metals (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-22",
      "question": "What is the primary site of paraoxon formation from parathion?",
      "options": ["Liver", "Kidney", "Blood", "Lung"],
      "correctIndex": 0,
      "explanation": "Hepatic cytochrome P450 activation (NOTE ON biotransformation.pdf, Page 8)."
    },
    {
      "id": "tox-mcq-23",
      "question": "Which compound is NOT a persistent organic pollutant?",
      "options": ["DDT", "PCBs", "Dieldrin", "Aspirin"],
      "correctIndex": 3,
      "explanation": "Aspirin is rapidly metabolized (Metabolism of Xenobiotics PDF, Page 3)."
    },
    {
      "id": "tox-mcq-24",
      "question": "What is the first step in ethanol metabolism?",
      "options": [
        "Conversion to acetate",
        "Formation of acetaldehyde",
        "Conjugation with glucuronate",
        "Excretion in breath"
      ],
      "correctIndex": 1,
      "explanation": "Ethanol → acetaldehyde via ADH (05_Xenobiotics metab.pdf, Page 25)."
    },
    {
      "id": "tox-mcq-25",
      "question": "Which phase of biotransformation introduces polar groups?",
      "options": ["Phase I", "Phase II", "Phase III", "Both Phase I & II"],
      "correctIndex": 0,
      "explanation": "Phase I introduces, Phase II conjugates (NOTE ON biotransformation.pdf, Page 3)."
    },
    {
      "id": "tox-mcq-26",
      "question": "What is the toxic mechanism of carbon monoxide?",
      "options": [
        "Protein denaturation",
        "Competitive hemoglobin binding",
        "DNA alkylation",
        "Enzyme inhibition"
      ],
      "correctIndex": 1,
      "explanation": "Forms carboxyhemoglobin (Toxicology Chapter 1, Page 42)."
    },
    {
      "id": "tox-mcq-27",
      "question": "Which vitamin deficiency exacerbates ethanol toxicity?",
      "options": ["Vitamin A", "Vitamin B1", "Vitamin C", "Vitamin D"],
      "correctIndex": 1,
      "explanation": "Thiamine deficiency → Wernicke-Korsakoff (05_Xenobiotics metab.pdf, Page 26)."
    },
    {
      "id": "tox-mcq-28",
      "question": "What is the primary excretion route for volatile xenobiotics?",
      "options": ["Bile", "Urine", "Exhaled air", "Sweat"],
      "correctIndex": 2,
      "explanation": "Lungs eliminate volatile compounds (Metabolism of Xenobiotics PDF, Page 4)."
    },
    {
      "id": "tox-mcq-29",
      "question": "Which enzyme conjugates bilirubin?",
      "options": [
        "UDP-glucuronosyltransferase",
        "Sulfotransferase",
        "Glutathione S-transferase",
        "Acetyltransferase"
      ],
      "correctIndex": 0,
      "explanation": "Forms bilirubin diglucuronide (05_Xenobiotics metab.pdf, Page 14)."
    },
    {
      "id": "tox-mcq-30",
      "question": "What characterizes the cholinergic toxidrome?",
      "options": [
        "Dry mouth",
        "Pinpoint pupils",
        "Urinary retention",
        "Hyperthermia"
      ],
      "correctIndex": 1,
      "explanation": "DUMBBELS mnemonic (Toxicology Chapter 1, Page 63)."
    },
    {
      "id": "tox-mcq-31",
      "question": "Which compound is bioactivated to a carcinogen?",
      "options": [
        "Benzene",
        "Ethanol",
        "Aspirin",
        "Acetaminophen"
      ],
      "correctIndex": 0,
      "explanation": "Forms DNA-reactive metabolites (Metabolism of Xenobiotics PDF, Page 19)."
    },
    {
      "id": "tox-mcq-32",
      "question": "What is the primary detoxification product of benzene?",
      "options": ["Phenol", "Benzoic acid", "Benzaldehyde", "Catechol"],
      "correctIndex": 0,
      "explanation": "Main urinary metabolite (05_Xenobiotics metab.pdf, Page 19)."
    },
    {
      "id": "tox-mcq-33",
      "question": "Which enzyme is deficient in Gilbert's syndrome?",
      "options": [
        "Alcohol dehydrogenase",
        "UDP-glucuronosyltransferase",
        "Cytochrome P450",
        "Sulfotransferase"
      ],
      "correctIndex": 1,
      "explanation": "Reduced bilirubin conjugation (05_Xenobiotics metab.pdf, Page 14)."
    },
    {
      "id": "tox-mcq-34",
      "question": "What is the purpose of enterohepatic circulation?",
      "options": [
        "Increase xenobiotic excretion",
        "Reabsorb conjugated metabolites",
        "Enhance renal clearance",
        "Activate cytochrome P450"
      ],
      "correctIndex": 1,
      "explanation": "Allows reabsorption from gut (NOTE ON biotransformation.pdf, Page 4)."
    },
    {
      "id": "tox-mcq-35",
      "question": "Which compound causes 'antifreeze' poisoning?",
      "options": [
        "Methanol",
        "Ethylene glycol",
        "Isopropanol",
        "Acetone"
      ],
      "correctIndex": 1,
      "explanation": "Metabolized to oxalic acid (Metabolism of Xenobiotics PDF, Page 31)."
    },
    {
      "id": "tox-mcq-36",
      "question": "What is the treatment for ethylene glycol poisoning?",
      "options": ["BAL", "Fomepizole", "Naloxone", "Atropine"],
      "correctIndex": 1,
      "explanation": "Alcohol dehydrogenase inhibitor (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-37",
      "question": "Which enzyme metabolizes acetanilide to acetaminophen?",
      "options": [
        "CYP1A2",
        "CYP2E1",
        "CYP3A4",
        "CYP2D6"
      ],
      "correctIndex": 0,
      "explanation": "Aromatic hydroxylation (05_Xenobiotics metab.pdf, Page 30)."
    },
    {
      "id": "tox-mcq-38",
      "question": "What is the toxic metabolite of acetaminophen?",
      "options": [
        "NAPQI",
        "Benzoquinone",
        "Formaldehyde",
        "Acetaldehyde"
      ],
      "correctIndex": 0,
      "explanation": "N-acetyl-p-benzoquinone imine (05_Xenobiotics metab.pdf, Page 21)."
    },
    {
      "id": "tox-mcq-39",
      "question": "Which compound induces cytochrome P450?",
      "options": [
        "Grapefruit juice",
        "Phenobarbital",
        "Cimetidine",
        "Disulfiram"
      ],
      "correctIndex": 1,
      "explanation": "Increases CYP450 synthesis (05_Xenobiotics metab.pdf, Page 10)."
    },
    {
      "id": "tox-mcq-40",
      "question": "What is the antidote for acetaminophen toxicity?",
      "options": ["NAC", "BAL", "EDTA", "Atropine"],
      "correctIndex": 0,
      "explanation": "N-acetylcysteine replenishes glutathione (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-41",
      "question": "Which enzyme converts codeine to morphine?",
      "options": [
        "CYP2D6",
        "CYP3A4",
        "CYP2E1",
        "CYP1A2"
      ],
      "correctIndex": 0,
      "explanation": "O-demethylation in poor metabolizers (05_Xenobiotics metab.pdf, Page 23)."
    },
    {
      "id": "tox-mcq-42",
      "question": "What is the primary conjugation reaction for salicylic acid?",
      "options": [
        "Glucuronidation",
        "Sulfation",
        "Glycine conjugation",
        "Acetylation"
      ],
      "correctIndex": 2,
      "explanation": "Forms salicyluric acid (05_Xenobiotics metab.pdf, Page 22)."
    },
    {
      "id": "tox-mcq-43",
      "question": "Which enzyme is inhibited by disulfiram?",
      "options": [
        "Alcohol dehydrogenase",
        "Aldehyde dehydrogenase",
        "Cytochrome P450",
        "Catalase"
      ],
      "correctIndex": 1,
      "explanation": "Causes acetaldehyde accumulation (05_Xenobiotics metab.pdf, Page 26)."
    },
    {
      "id": "tox-mcq-44",
      "question": "What is the primary metabolic pathway for ethanol at high doses?",
      "options": [
        "ADH",
        "MEOS",
        "Catalase",
        "Aldehyde dehydrogenase"
      ],
      "correctIndex": 1,
      "explanation": "Microsomal Ethanol Oxidizing System (05_Xenobiotics metab.pdf, Page 25)."
    },
    {
      "id": "tox-mcq-45",
      "question": "Which compound causes 'blind drunk' poisoning?",
      "options": [
        "Methanol",
        "Ethanol",
        "Isopropanol",
        "Ethylene glycol"
      ],
      "correctIndex": 0,
      "explanation": "Formic acid damages optic nerve (Metabolism of Xenobiotics PDF, Page 25)."
    },
    {
      "id": "tox-mcq-46",
      "question": "What is the primary urinary metabolite of toluene?",
      "options": [
        "Hippuric acid",
        "Methylhippuric acid",
        "Phenylmercapturic acid",
        "Benzyl glucuronide"
      ],
      "correctIndex": 0,
      "explanation": "From glycine conjugation (05_Xenobiotics metab.pdf, Page 17)."
    },
    {
      "id": "tox-mcq-47",
      "question": "Which enzyme is deficient in slow acetylators?",
      "options": [
        "CYP2D6",
        "N-acetyltransferase",
        "UDP-glucuronosyltransferase",
        "Epoxide hydrolase"
      ],
      "correctIndex": 1,
      "explanation": "Affects isoniazid metabolism (NOTE ON biotransformation.pdf, Page 7)."
    },
    {
      "id": "tox-mcq-48",
      "question": "What is the primary detoxification mechanism for NAPQI?",
      "options": [
        "Glucuronidation",
        "Glutathione conjugation",
        "Sulfation",
        "Acetylation"
      ],
      "correctIndex": 1,
      "explanation": "Forms mercapturate (05_Xenobiotics metab.pdf, Page 21)."
    },
    {
      "id": "tox-mcq-49",
      "question": "Which compound is a prodrug requiring bioactivation?",
      "options": [
        "Acetaminophen",
        "Codeine",
        "Aspirin",
        "Ethanol"
      ],
      "correctIndex": 1,
      "explanation": "Converted to morphine by CYP2D6 (05_Xenobiotics metab.pdf, Page 23)."
    },
    {
      "id": "tox-mcq-50",
      "question": "What is the primary site of paraoxon formation from parathion?",
      "options": ["Liver", "Kidney", "Blood", "Lung"],
      "correctIndex": 0,
      "explanation": "Hepatic cytochrome P450 activation (NOTE ON biotransformation.pdf, Page 8)."
    }, {
      "id": "tox-mcq-51",
      "question": "Which of these is NOT a characteristic of cytochrome P450 enzymes?",
      "options": [
        "Broad substrate specificity",
        "Located in mitochondrial matrix",
        "Require NADPH and O₂",
        "Contain heme iron"
      ],
      "correctIndex": 1,
      "explanation": "CYP450s are microsomal (ER) enzymes, not mitochondrial (05_Xenobiotics metab.pdf, Page 9)."
    },
    {
      "id": "tox-mcq-52",
      "question": "What is the primary toxic mechanism of organophosphates?",
      "options": [
        "DNA alkylation",
        "Acetylcholinesterase inhibition",
        "Hemoglobin oxidation",
        "Cytochrome P450 inhibition"
      ],
      "correctIndex": 1,
      "explanation": "Causes cholinergic crisis (Toxicology Chapter 1, Page 63)."
    },
    {
      "id": "tox-mcq-53",
      "question": "Which antidote treats organophosphate poisoning?",
      "options": ["Naloxone", "Atropine", "Flumazenil", "Ethanol"],
      "correctIndex": 1,
      "explanation": "Blocks muscarinic receptors (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-54",
      "question": "What is the purpose of oxime therapy (e.g., pralidoxime) in OP poisoning?",
      "options": [
        "Chelate metals",
        "Reactivate AChE",
        "Induce CYP450",
        "Scavenge free radicals"
      ],
      "correctIndex": 1,
      "explanation": "Reverses phosphorylated AChE (Toxicology Chapter 1, Page 78)."
    },
    {
      "id": "tox-mcq-55",
      "question": "Which compound causes 'blue baby syndrome'?",
      "options": ["Nitrites", "Arsenic", "Lead", "Mercury"],
      "correctIndex": 0,
      "explanation": "Nitrites induce methemoglobinemia (Toxicology Chapter 1, Page 42)."
    },
    {
      "id": "tox-mcq-56",
      "question": "What is the primary toxic mechanism of carbon tetrachloride?",
      "options": [
        "Protein denaturation",
        "Free radical formation",
        "Enzyme inhibition",
        "DNA crosslinking"
      ],
      "correctIndex": 1,
      "explanation": "Forms trichloromethyl radical (NOTE ON biotransformation.pdf, Page 5)."
    },
    {
      "id": "tox-mcq-57",
      "question": "Which enzyme is most important for glutathione conjugation?",
      "options": [
        "UDP-glucuronosyltransferase",
        "Glutathione S-transferase",
        "Sulfotransferase",
        "Epoxide hydrolase"
      ],
      "correctIndex": 1,
      "explanation": "Catalyzes electrophile-GSH conjugation (05_Xenobiotics metab.pdf, Page 16)."
    },
    {
      "id": "tox-mcq-58",
      "question": "What is the final product of glutathione conjugation?",
      "options": [
        "Glucuronide",
        "Mercapturic acid",
        "Sulfate ester",
        "Acetylated amine"
      ],
      "correctIndex": 1,
      "explanation": "Excreted as N-acetylcysteine conjugates (05_Xenobiotics metab.pdf, Page 16)."
    },
    {
      "id": "tox-mcq-59",
      "question": "Which vitamin is required for glucuronidation?",
      "options": ["B₁", "B₆", "C", "None"],
      "correctIndex": 3,
      "explanation": "UDP-glucuronate synthesis doesn't require vitamins (05_Xenobiotics metab.pdf, Page 14)."
    },
    {
      "id": "tox-mcq-60",
      "question": "What is the primary effect of grapefruit juice on drug metabolism?",
      "options": [
        "Induces CYP3A4",
        "Inhibits CYP3A4",
        "Blocks glucuronidation",
        "Depletes glutathione"
      ],
      "correctIndex": 1,
      "explanation": "Furanocoumarins inhibit intestinal CYP3A4 (05_Xenobiotics metab.pdf, Page 12)."
    },
    {
      "id": "tox-mcq-61",
      "question": "Which population has higher CYP2D6 activity?",
      "options": [
        "Asians",
        "Caucasians",
        "Ethiopians",
        "No ethnic differences"
      ],
      "correctIndex": 2,
      "explanation": "Ultra-rapid metabolizers common in Ethiopia (05_Xenobiotics metab.pdf, Page 11)."
    },
    {
      "id": "tox-mcq-62",
      "question": "What is the toxic mechanism of cyanide?",
      "options": [
        "Uncouples oxidative phosphorylation",
        "Inhibits cytochrome oxidase",
        "Blocks Na⁺/K⁺ ATPase",
        "Chelates calcium"
      ],
      "correctIndex": 1,
      "explanation": "Binds cytochrome aa₃ (Toxicology Chapter 1, Page 42)."
    },
    {
      "id": "tox-mcq-63",
      "question": "Which antidote converts hemoglobin to methemoglobin?",
      "options": ["BAL", "Amyl nitrite", "NAC", "Atropine"],
      "correctIndex": 1,
      "explanation": "Nitrites treat cyanide poisoning (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-64",
      "question": "What is the primary excretion route for heavy metals?",
      "options": ["Bile", "Urine", "Exhaled air", "Sweat"],
      "correctIndex": 1,
      "explanation": "Renal excretion after chelation (Toxicology Chapter 1, Page 55)."
    },
    {
      "id": "tox-mcq-65",
      "question": "Which enzyme is inhibited by heavy metals?",
      "options": [
        "Alcohol dehydrogenase",
        "δ-ALA dehydratase",
        "Cytochrome P450",
        "Glutathione reductase"
      ],
      "correctIndex": 1,
      "explanation": "Lead inhibits heme synthesis (Toxicology Chapter 1, Page 46)."
    },
    {
      "id": "tox-mcq-66",
      "question": "What is the primary toxic mechanism of arsenic?",
      "options": [
        "Protein denaturation",
        "Mitochondrial uncoupling",
        "DNA alkylation",
        "SH-group binding"
      ],
      "correctIndex": 3,
      "explanation": "Binds sulfhydryl groups (Toxicology Chapter 1, Page 47)."
    },
    {
      "id": "tox-mcq-67",
      "question": "Which metal causes 'itai-itai' disease?",
      "options": ["Lead", "Mercury", "Cadmium", "Arsenic"],
      "correctIndex": 2,
      "explanation": "Japanese for 'ouch-ouch' from bone pain (Toxicology Chapter 1, Page 48)."
    },
    {
      "id": "tox-mcq-68",
      "question": "What is the primary target of mercury toxicity?",
      "options": ["Liver", "Kidney", "CNS", "Bone marrow"],
      "correctIndex": 2,
      "explanation": "Minamata disease affects brain (Toxicology Chapter 1, Page 49)."
    },
    {
      "id": "tox-mcq-69",
      "question": "Which compound causes 'blackfoot disease'?",
      "options": ["Lead", "Arsenic", "Cadmium", "Mercury"],
      "correctIndex": 1,
      "explanation": "Chronic arsenic poisoning (Toxicology Chapter 1, Page 47)."
    },
    {
      "id": "tox-mcq-70",
      "question": "What is the treatment for iron poisoning?",
      "options": ["BAL", "Deferoxamine", "EDTA", "Penicillamine"],
      "correctIndex": 1,
      "explanation": "Iron-specific chelator (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-71",
      "question": "Which enzyme is inhibited by organochlorines (e.g., DDT)?",
      "options": [
        "Acetylcholinesterase",
        "Na⁺/K⁺ ATPase",
        "Cytochrome oxidase",
        "GABA receptor"
      ],
      "correctIndex": 1,
      "explanation": "Disrupts nerve membrane potential (Toxicology Chapter 1, Page 42)."
    },
    {
      "id": "tox-mcq-72",
      "question": "What is the primary toxic mechanism of paraquat?",
      "options": [
        "Lipid peroxidation",
        "Protein denaturation",
        "Enzyme inhibition",
        "DNA crosslinking"
      ],
      "correctIndex": 0,
      "explanation": "Generates superoxide radicals (Toxicology Chapter 1, Page 43)."
    },
    {
      "id": "tox-mcq-73",
      "question": "Which vitamin protects against paraquat toxicity?",
      "options": ["A", "C", "D", "E"],
      "correctIndex": 3,
      "explanation": "Vitamin E is lipid-soluble antioxidant (Toxicology Chapter 1, Page 44)."
    },
    {
      "id": "tox-mcq-74",
      "question": "What is the primary toxic mechanism of warfarin?",
      "options": [
        "Inhibits vitamin K epoxide reductase",
        "Blocks thrombin",
        "Chelates calcium",
        "Uncouples oxidative phosphorylation"
      ],
      "correctIndex": 0,
      "explanation": "Impairs clotting factor synthesis (Toxicology Chapter 1, Page 50)."
    },
    {
      "id": "tox-mcq-75",
      "question": "Which treatment reverses warfarin toxicity?",
      "options": ["Vitamin K", "Protamine", "NAC", "BAL"],
      "correctIndex": 0,
      "explanation": "Vitamin K₁ (phytonadione) (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-76",
      "question": "What is the toxic mechanism of theophylline?",
      "options": [
        "Adenosine receptor antagonism",
        "Na⁺ channel blockade",
        "Acetylcholinesterase inhibition",
        "GABA receptor modulation"
      ],
      "correctIndex": 0,
      "explanation": "Causes seizures and arrhythmias (Toxicology Chapter 1, Page 51)."
    },
    {
      "id": "tox-mcq-77",
      "question": "Which treatment enhances theophylline elimination?",
      "options": [
        "Forced diuresis",
        "Urinary acidification",
        "Charcoal hemoperfusion",
        "Chelation therapy"
      ],
      "correctIndex": 2,
      "explanation": "Extracorporeal removal (Toxicology Chapter 1, Page 67)."
    },
    {
      "id": "tox-mcq-78",
      "question": "What is the primary toxic mechanism of digoxin?",
      "options": [
        "Na⁺/K⁺ ATPase inhibition",
        "Ca²⁺ channel blockade",
        "K⁺ channel activation",
        "Cl⁻ channel modulation"
      ],
      "correctIndex": 0,
      "explanation": "Increases intracellular Ca²⁺ (Toxicology Chapter 1, Page 52)."
    },
    {
      "id": "tox-mcq-79",
      "question": "Which treatment reverses digoxin toxicity?",
      "options": [
        "Digoxin-specific antibodies",
        "Atropine",
        "Calcium gluconate",
        "Sodium bicarbonate"
      ],
      "correctIndex": 0,
      "explanation": "Digibind (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-80",
      "question": "What is the toxic mechanism of tricyclic antidepressants?",
      "options": [
        "Na⁺ channel blockade",
        "GABA receptor antagonism",
        "Dopamine depletion",
        "Acetylcholinesterase inhibition"
      ],
      "correctIndex": 0,
      "explanation": "Causes QRS widening (Toxicology Chapter 1, Page 53)."
    },
    {
      "id": "tox-mcq-81",
      "question": "Which treatment is contraindicated in TCA overdose?",
      "options": [
        "Sodium bicarbonate",
        "Physostigmine",
        "Lidocaine",
        "Magnesium sulfate"
      ],
      "correctIndex": 1,
      "explanation": "Can worsen cardiac toxicity (Toxicology Chapter 1, Page 54)."
    },
    {
      "id": "tox-mcq-82",
      "question": "What is the primary toxic mechanism of aspirin?",
      "options": [
        "Uncouples oxidative phosphorylation",
        "Inhibits cyclooxygenase",
        "Blocks K⁺ channels",
        "Chelates magnesium"
      ],
      "correctIndex": 0,
      "explanation": "Causes metabolic acidosis (Toxicology Chapter 1, Page 55)."
    },
    {
      "id": "tox-mcq-83",
      "question": "Which treatment enhances salicylate elimination?",
      "options": [
        "Urinary acidification",
        "Urinary alkalinization",
        "Forced diuresis",
        "Chelation therapy"
      ],
      "correctIndex": 1,
      "explanation": "Ion trapping in urine (Toxicology Chapter 1, Page 56)."
    },
    {
      "id": "tox-mcq-84",
      "question": "What is the toxic mechanism of β-blockers?",
      "options": [
        "Na⁺ channel blockade",
        "Ca²⁺ channel blockade",
        "β-adrenergic antagonism",
        "K⁺ channel activation"
      ],
      "correctIndex": 2,
      "explanation": "Causes bradycardia/hypotension (Toxicology Chapter 1, Page 57)."
    },
    {
      "id": "tox-mcq-85",
      "question": "Which treatment reverses β-blocker toxicity?",
      "options": ["Atropine", "Glucagon", "Naloxone", "Flumazenil"],
      "correctIndex": 1,
      "explanation": "Bypasses β-receptors (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-86",
      "question": "What is the toxic mechanism of calcium channel blockers?",
      "options": [
        "Na⁺ channel blockade",
        "Ca²⁺ channel blockade",
        "K⁺ channel activation",
        "Cl⁻ channel modulation"
      ],
      "correctIndex": 1,
      "explanation": "Causes bradycardia/hypotension (Toxicology Chapter 1, Page 58)."
    },
    {
      "id": "tox-mcq-87",
      "question": "Which treatment is used for CCB overdose?",
      "options": [
        "Calcium gluconate",
        "Magnesium sulfate",
        "Potassium chloride",
        "Sodium phosphate"
      ],
      "correctIndex": 0,
      "explanation": "Competes at calcium channels (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-88",
      "question": "What is the toxic mechanism of opioids?",
      "options": [
        "Na⁺ channel blockade",
        "μ-receptor agonism",
        "GABA antagonism",
        "Dopamine depletion"
      ],
      "correctIndex": 1,
      "explanation": "Causes respiratory depression (Toxicology Chapter 1, Page 59)."
    },
    {
      "id": "tox-mcq-89",
      "question": "Which treatment reverses opioid toxicity?",
      "options": ["Naloxone", "Flumazenil", "Physostigmine", "Atropine"],
      "correctIndex": 0,
      "explanation": "Competitive μ-receptor antagonist (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-90",
      "question": "What is the toxic mechanism of benzodiazepines?",
      "options": [
        "Na⁺ channel blockade",
        "GABAₐ receptor modulation",
        "NMDA receptor antagonism",
        "Dopamine agonism"
      ],
      "correctIndex": 1,
      "explanation": "Enhances GABA inhibition (Toxicology Chapter 1, Page 60)."
    },
    {
      "id": "tox-mcq-91",
      "question": "Which treatment reverses benzodiazepine toxicity?",
      "options": ["Naloxone", "Flumazenil", "Physostigmine", "Atropine"],
      "correctIndex": 1,
      "explanation": "Competitive GABAₐ antagonist (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-92",
      "question": "What is the toxic mechanism of carbon monoxide?",
      "options": [
        "Uncouples oxidative phosphorylation",
        "Forms carboxyhemoglobin",
        "Inhibits cytochrome oxidase",
        "Blocks Na⁺ channels"
      ],
      "correctIndex": 1,
      "explanation": "Reduces oxygen delivery (Toxicology Chapter 1, Page 61)."
    },
    {
      "id": "tox-mcq-93",
      "question": "Which treatment is specific for CO poisoning?",
      "options": [
        "100% oxygen",
        "Hyperbaric oxygen",
        "Methylene blue",
        "Sodium bicarbonate"
      ],
      "correctIndex": 1,
      "explanation": "Accelerates CO elimination (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-94",
      "question": "What is the toxic mechanism of cyanide?",
      "options": [
        "Inhibits cytochrome oxidase",
        "Forms methemoglobin",
        "Uncouples oxidative phosphorylation",
        "Blocks Na⁺/K⁺ ATPase"
      ],
      "correctIndex": 0,
      "explanation": "Binds cytochrome aa₃ (Toxicology Chapter 1, Page 62)."
    },
    {
      "id": "tox-mcq-95",
      "question": "Which treatment converts hemoglobin to methemoglobin?",
      "options": [
        "Sodium nitrite",
        "Methylene blue",
        "N-acetylcysteine",
        "Deferoxamine"
      ],
      "correctIndex": 0,
      "explanation": "Binds cyanide (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-96",
      "question": "What is the toxic mechanism of hydrogen sulfide?",
      "options": [
        "Inhibits cytochrome oxidase",
        "Forms sulfhemoglobin",
        "Uncouples oxidative phosphorylation",
        "Blocks Na⁺ channels"
      ],
      "correctIndex": 0,
      "explanation": "Similar to cyanide (Toxicology Chapter 1, Page 63)."
    },
    {
      "id": "tox-mcq-97",
      "question": "Which treatment is contraindicated in H₂S poisoning?",
      "options": [
        "100% oxygen",
        "Hyperbaric oxygen",
        "Nitrites",
        "Sodium bicarbonate"
      ],
      "correctIndex": 2,
      "explanation": "May worsen toxicity (Toxicology Chapter 1, Page 64)."
    },
    {
      "id": "tox-mcq-98",
      "question": "What is the toxic mechanism of methanol?",
      "options": [
        "Forms formaldehyde",
        "Forms formic acid",
        "Direct CNS depression",
        "All of the above"
      ],
      "correctIndex": 3,
      "explanation": "Multifactorial toxicity (Metabolism of Xenobiotics PDF, Page 25)."
    },
    {
      "id": "tox-mcq-99",
      "question": "Which treatment inhibits alcohol dehydrogenase?",
      "options": ["Ethanol", "Fomepizole", "Both", "Neither"],
      "correctIndex": 2,
      "explanation": "Both compete for ADH (Toxicology Chapter 1, Page 77)."
    },
    {
      "id": "tox-mcq-100",
      "question": "What is the primary toxic mechanism of ethylene glycol?",
      "options": [
        "Forms oxalic acid",
        "Direct nephrotoxicity",
        "CNS depression",
        "All of the above"
      ],
      "correctIndex": 3,
      "explanation": "Multiorgan toxicity (Metabolism of Xenobiotics PDF, Page 31)."
    }
      ],
      "fitg": [
      ]
    }
  }
};

    let selectedCourse = "", selectedTopic = "", selectedType = "", selectedQuestions = [];
    let currentIndex = 0, score = 0, userAnswers = [];

    const courseSelect = document.getElementById("course-select");
    const topicSelect = document.getElementById("topic-select");
    const typeSelect = document.getElementById("type-select");
    const questionRange = document.getElementById("question-range");
    const availableText = document.getElementById("total-available");

    populateCourses();

    function populateCourses() {
      for (const course in quizData) {
        const option = document.createElement("option");
        option.value = course;
        option.textContent = course;
        courseSelect.appendChild(option);
      }

      courseSelect.addEventListener("change", populateTopics);
      topicSelect.addEventListener("change", () => {
        updateAvailableCount();
        updateQuestionRangeOptions();
      });
      typeSelect.addEventListener("change", () => {
        updateAvailableCount();
        updateQuestionRangeOptions();
      });

      courseSelect.dispatchEvent(new Event("change"));
    }

    function populateTopics() {
      topicSelect.innerHTML = "";
      const topics = Object.keys(quizData[courseSelect.value]);
      topics.forEach(topic => {
        const option = document.createElement("option");
        option.value = topic;
        option.textContent = topic;
        topicSelect.appendChild(option);
      });

      topicSelect.dispatchEvent(new Event("change"));
    }

    function updateAvailableCount() {
      const course = courseSelect.value;
      const topic = topicSelect.value;
      const type = typeSelect.value;
      if (quizData[course]?.[topic]?.[type]) {
        availableText.textContent = `Available: ${quizData[course][topic][type].length}`;
      } else {
        availableText.textContent = `Available: 0`;
      }
    }

    function updateQuestionRangeOptions() {
      const total = quizData[courseSelect.value]?.[topicSelect.value]?.[typeSelect.value]?.length || 0;
      questionRange.innerHTML = "";

      if (total === 0) {
        const opt = document.createElement("option");
        opt.value = 0;
        opt.textContent = "No questions available";
        questionRange.appendChild(opt);
        return;
      }

      const ranges = [5, 10, 20, 30, 50];
      ranges.forEach(r => {
        if (r <= total) {
          const opt = document.createElement("option");
          opt.value = r;
          opt.textContent = `1–${r}`;
          questionRange.appendChild(opt);
        }
      });

      const allOpt = document.createElement("option");
      allOpt.value = total;
      allOpt.textContent = `All (${total})`;
      questionRange.appendChild(allOpt);
    }

    function startQuiz() {
      selectedCourse = courseSelect.value;
      selectedTopic = topicSelect.value;
      selectedType = typeSelect.value;
      const num = parseInt(questionRange.value);

      const allQuestions = quizData[selectedCourse]?.[selectedTopic]?.[selectedType];
      if (!allQuestions || allQuestions.length === 0) {
        alert("No questions found!");
        return;
      }

      selectedQuestions = allQuestions.slice(0, num);
      currentIndex = 0;
      score = 0;
      userAnswers = [];

      document.getElementById("selection-screen").classList.add("hidden");
      document.getElementById("quiz-screen").classList.remove("hidden");

      showQuestion();
    }

    function showQuestion() {
      const container = document.getElementById("quiz-container");
      container.innerHTML = "";

      const current = selectedQuestions[currentIndex];
      const block = document.createElement("div");
      block.className = "question";

      block.innerHTML = `<strong>Q${currentIndex + 1}: ${current.question}</strong><br/>`;

      if (selectedType === "mcqs") {
        current.options.forEach((opt, i) => {
          const div = document.createElement("div");
          div.className = "answer-block";

          const input = document.createElement("input");
          input.type = "radio";
          input.name = "answer";
          input.value = i;
          input.id = `opt-${i}`;

          const label = document.createElement("label");
          label.htmlFor = `opt-${i}`;
          label.textContent = opt;

          div.appendChild(input);
          div.appendChild(label);
          block.appendChild(div);
        });
      } else if (selectedType === "fitg") {
        const input = document.createElement("input");
        input.type = "text";
        input.id = "fitg-answer";
        input.placeholder = "Type your answer here";
        block.appendChild(input);
      }

      const nextBtn = document.createElement("button");
      nextBtn.textContent = currentIndex < selectedQuestions.length - 1 ? "Next" : "Finish";
      nextBtn.onclick = handleAnswer;

      block.appendChild(nextBtn);
      container.appendChild(block);
    }

    function handleAnswer() {
      const current = selectedQuestions[currentIndex];
      let userAnswer = null;
      let isCorrect = false;
      let displayedAnswer = "";

      if (selectedType === "mcqs") {
        const selected = document.querySelector('input[name="answer"]:checked');
        if (!selected) return alert("Please select an answer!");
        const selectedIndex = parseInt(selected.value);
        userAnswer = selectedIndex;
        displayedAnswer = current.options[selectedIndex];
        isCorrect = selectedIndex === current.correctIndex;
      } else if (selectedType === "fitg") {
        const input = document.getElementById("fitg-answer");
        const answer = input.value.trim();
        if (!answer) return alert("Please type an answer!");
        userAnswer = answer.toLowerCase();
        displayedAnswer = answer;
        isCorrect = userAnswer === current.answer.trim().toLowerCase();
      }

      if (isCorrect) score++;

      userAnswers.push({
        question: current.question,
        userAnswer: displayedAnswer,
        correctAnswer: selectedType === "mcqs" ? current.options[current.correctIndex] : current.answer,
        explanation: current.explanation,
        isCorrect
      });

      currentIndex++;
      if (currentIndex < selectedQuestions.length) {
        showQuestion();
      } else {
        endQuiz();
      }
    }

    function endQuiz() {
      document.getElementById("quiz-screen").classList.add("hidden");
      document.getElementById("result-screen").classList.remove("hidden");

      document.getElementById("score").textContent = `${score} out of ${selectedQuestions.length}`;
      const corrections = document.getElementById("corrections");
      corrections.innerHTML = "<h3>Corrections:</h3>";

      userAnswers.forEach((entry, i) => {
        if (!entry.isCorrect) {
          const block = document.createElement("div");
          block.className = "correction";
          block.innerHTML = `
            <p><strong>Q${i + 1}: ${entry.question}</strong></p>
            <p><span style="color: red;">Your Answer:</span> ${entry.userAnswer}</p>
            <p><span style="color: green;">Correct Answer:</span> ${entry.correctAnswer}</p>
            <p><em>${entry.explanation || ""}</em></p>
          `;
          corrections.appendChild(block);
        }
      });
    }
